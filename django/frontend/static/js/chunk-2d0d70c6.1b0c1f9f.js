(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d70c6"],{"74c6":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.s?a("v-container",[a("v-layout",{attrs:{"text-center":"",wrap:""}},[a("v-card",[a("v-card-title",{domProps:{textContent:t._s(t.s.name)}}),a("v-card-text",[a("p",{domProps:{textContent:t._s(t.s.description)}}),a("seriesSummary")],1)],1)],1)],1):a("v-overlay",[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)},s=[],n=a("5530"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[a("small",[t._v("Summary Table")]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.s_search,callback:function(e){t.s_search=e},expression:"s_search"}})],1),a("v-data-table",{attrs:{"mobile-breakpoint":300,dense:"",headers:t.s_table_header,items:t.s_table,search:t.s_search,"group-by":"class","multi-sort":"","items-per-page":50}})],1)},i=[],u=(a("99af"),a("4de4"),a("7db0"),a("c740"),a("d81d"),a("13d5"),a("b0c0"),a("4ec9"),a("d3b7"),a("ac1f"),a("25f0"),a("3ca3"),a("841c"),a("ddb0"),a("b85c")),o=a("2909"),l=a("a676"),p=a("2f62"),d={components:{},data:function(){return{s_search:""}},computed:Object(n["a"])(Object(n["a"])({},Object(p["c"])({user:function(t){return t.user.user}})),{},{s:function(){return this.$store.getters["series/seriesById"](parseInt(this.$route.params.id))},s_table_header:function(){if(this.s){var t=[{text:"Class",value:"class"},{text:"Place",value:"place",width:"1%"},{text:"Name",value:"name"},{text:"Club",value:"club"},{text:"Points",value:"points"},{text:"Sum",value:"sum"}];return t.push.apply(t,Object(o["a"])(this.s.stages.map((function(t){return{text:t.name,value:"stage"+t.id.toString()}})).reverse())),t}return[]},s_table:function(){var t=this;if(this.s){var e,a=[],r=Object(u["a"])(this.s.stages);try{var s=function(){var r=e.value,s=r.participants.map((function(t){var e,a,s=r.rounds.find((function(t){return-1!==t.course_name.search("shootoff")}));return s=s?s.id:null,{name:t.archer.full_name,class:t.age_group+t.archer.gender+t.style,id:t.archer.id+t.age_group+t.style,club:t.archer.club,sum:l["a"].sum((e=[]).concat.apply(e,Object(o["a"])(t.scorecards.filter((function(t){return t.round!==s})).map((function(t){return Object(o["a"])(t.arrows.map((function(t){return t.score})))}))))),x:l["a"].sum((a=[]).concat.apply(a,Object(o["a"])(t.scorecards.filter((function(t){return t.round!==s})).map((function(t){return Object(o["a"])(t.arrows.map((function(t){return t.x})))}))))),shootoff:s?l["a"].sum.apply(l["a"],Object(o["a"])(t.scorecards.filter((function(t){return t.round===s})).map((function(t){return Object(o["a"])(t.arrows.map((function(t){return t.score})))})))):null}}));l["a"].participantRank(s);var n,c=s.reduce((function(t,e){return t.set(e.class,(t.get(e.class)||0)+1)}),new Map),i={class:null,points:null},p=Object(u["a"])(s.filter((function(t){return t.sum>0})));try{var d=function(){var e=n.value;if(e.class!==i.class&&(i.class=e.class,i.points=Math.min(t.s.points_max,c.get(e.class))),e.points=i.points>=e.place&&e.sum>0?i.points-e.place+1:null,e.points){var s=a.findIndex((function(t){return t.id===e.id}));-1===s?(a.push({id:e.id,class:e.class,name:e.name,club:e.club,sum:e.sum,points:e.points}),a[a.length-1]["stage"+r.id.toString()]=e.points.toString()+" ("+e.sum.toString()+")"):(a[s].sum+=e.sum,a[s].points+=e.points,a[s]["stage"+r.id.toString()]=e.points.toString()+" ("+e.sum.toString()+")")}};for(p.s();!(n=p.n()).done;)d()}catch(f){p.e(f)}finally{p.f()}};for(r.s();!(e=r.n()).done;)s()}catch(n){r.e(n)}finally{r.f()}return a.sort((function(t,e){return t.points<e.points?1:t.points>e.points?-1:t.sum<e.sum?1:t.sum>e.sum?-1:0}))}return[]}}),methods:{}},f=d,m=a("2877"),h=a("6544"),b=a.n(h),v=a("b0af"),g=a("99d9"),_=a("8fea"),x=a("2fa4"),y=a("8654"),O=Object(m["a"])(f,c,i,!1,null,null,null),j=O.exports;b()(O,{VCard:v["a"],VCardTitle:g["d"],VDataTable:_["a"],VSpacer:x["a"],VTextField:y["a"]});var S={components:{seriesSummary:j},data:function(){return{}},computed:Object(n["a"])(Object(n["a"])({},Object(p["c"])({user:function(t){return t.user.user}})),{},{s:function(){return this.$store.getters["series/seriesById"](parseInt(this.$route.params.id))}}),created:function(){var t=this;this.$store.dispatch("series/updateSeries",parseInt(this.$route.params.id)).catch((function(){t.$router.push("/series")}))}},w=S,V=a("a523"),C=a("a722"),$=a("a797"),k=a("490a"),I=Object(m["a"])(w,r,s,!1,null,null,null);e["default"]=I.exports;b()(I,{VCard:v["a"],VCardText:g["c"],VCardTitle:g["d"],VContainer:V["a"],VLayout:C["a"],VOverlay:$["a"],VProgressCircular:k["a"]})}}]);
//# sourceMappingURL=chunk-2d0d70c6.1b0c1f9f.js.map