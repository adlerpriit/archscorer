(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-748d125f"],{a676:function(e,t,r){"use strict";r("99af"),r("4de4"),r("caad"),r("d81d"),r("13d5"),r("2532");var a=r("b85c"),n=r("2909");t["a"]={sum:function(e){return Array.isArray(e)&&e.length?e.reduce((function(e,t){return e+t})):null},participantScore:function(e,t){var r;return this.sum((r=[]).concat.apply(r,Object(n["a"])(e.scorecards.filter((function(e){return e.round!==t})).map((function(e){return Object(n["a"])(e.arrows.map((function(e){return e.score})))})))))},participantOrder:function(e,t){if(e.class<t.class)return-1;if(e.class>t.class)return 1;if(null!==e.shootoff&&null!==t.shootoff){if(e.shootoff>t.shootoff)return-1;if(e.shootoff<t.shootoff)return 1}return e.sum>t.sum?-1:e.sum<t.sum?1:e.x>t.x?-1:e.x<t.x?1:0},participantRank:function(e){var t,r={class:null,ord:1,sum:null,x:null},n=Object(a["a"])(e.sort(this.participantOrder));try{for(n.s();!(t=n.n()).done;){var s=t.value;s.class!==r.class&&(r.class=s.class,r.ord=1,r.place=1,r.sum=s.sum,r.x=s.x),("undefined"!==typeof s.shootoff&&null!==s.shootoff||s.sum<r.sum||s.x<r.x&&r.place>3)&&(r.place=r.ord),s["place"]=r.place,r.x=s.x,r.sum=s.sum,r.ord+=1}}catch(c){n.e(c)}finally{n.f()}},getClass:function(e,t){return t&&t.includes(e.age_group+"_"+e.style)?e.age_group+"_"+e.style:e.age_group+e.archer.gender+e.style}}},fcd1:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-layout",{staticClass:"d-flex justify-space-around",attrs:{wrap:""}},[r("v-card",[r("v-card-text",[r("p",[e._v("Work in progress. Ideas what kind of statistics or graphs to collect or show would be most wolcome.")])])],1),null!==e.user.id?r("UserPastEvents"):e._e(),r("Records")],1)],1)},n=[],s=r("5530"),c=r("2f62"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"mt-5"},[r("v-card-title",[e._v("My Rounds")]),r("v-card-text",[r("v-data-table",{attrs:{dense:"","mobile-breakpoint":300,headers:e.p_table_header,items:e.p_table,"items-per-page":50,"multi-sort":""},scopedSlots:e._u([{key:"item.event",fn:function(t){return[e._v(" "+e._s(t.item.event)+" ("),r("router-link",{attrs:{to:{name:"event",params:{id:t.item.eId}}}},[e._v("link")]),e._v(") ")]}}])})],1)],1)},o=[],i=(r("7db0"),r("c740"),r("d81d"),r("a434"),r("b0c0"),r("b85c")),l=r("a676"),d={components:{},data:function(){return{}},computed:Object(s["a"])(Object(s["a"])({},Object(c["d"])({user:function(e){return e.user.user},participants:function(e){return e.events.participants},events:function(e){return e.events.events},courses:function(e){return e.courses.courses}})),{},{p_table_header:function(){return[{text:"Event",value:"event"},{text:"Date",value:"date",width:"120px"},{text:"Round",value:"round"},{text:"Course",value:"course"},{text:"Score",value:"score"}]},p_table:function(){var e=this,t=[];if(this.participants.length){var r,a=Object(i["a"])(this.participants);try{var n=function(){var a=r.value,n=e.events.find((function(e){return e.id===a.event}));if(n){var s,c=[],u=Object(i["a"])(a.scorecards);try{var o=function(){var r=s.value,a=n.rounds.find((function(e){return e.id===r.round})),u=e.courses.find((function(e){return e.id===a.course})),o=l["a"].sum(r.arrows.map((function(e){return e.score}))),i=[a.label,u.name],d=i[0],f=i[1];if("s"===u.type)return"continue";if("u"===u.type){var p=c.findIndex((function(e){return e.id===u.id}));if(-1===p)return c.push({id:u.id,score:o,round:d}),"continue";d=c[p].round+" + "+d,f="2 x "+f,o=c[p].score+o,c.splice(p,1)}t.push({eId:n.id,event:n.name,date:n.date_start,round:d,course:f,score:o})};for(u.s();!(s=u.n()).done;)o()}catch(d){u.e(d)}finally{u.f()}}};for(a.s();!(r=a.n()).done;)n()}catch(s){a.e(s)}finally{a.f()}}return t.sort((function(e,t){return e.date<t.date?-1:e.date>t.date?1:0}))}}),created:function(){var e,t=this,r=Object(i["a"])(this.user.archer.events);try{var a=function(){var r=e.value;t.participants.find((function(e){return e.id===r}))||t.$store.dispatch("events/getParticipant",r)};for(r.s();!(e=r.n()).done;)a()}catch(n){r.e(n)}finally{r.f()}this.$store.dispatch("events/getEvents")}},f=d,p=r("2877"),v=r("6544"),h=r.n(v),m=r("b0af"),b=r("99d9"),x=r("8fea"),_=Object(p["a"])(f,u,o,!1,null,null,null),y=_.exports;h()(_,{VCard:m["a"],VCardText:b["c"],VCardTitle:b["d"],VDataTable:x["a"]});var g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"mt-5"},[r("v-card-title",[e._v("Records "),r("v-spacer"),r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Filter","single-line":"","hide-details":""},model:{value:e.r_search,callback:function(t){e.r_search=t},expression:"r_search"}})],1),r("v-card-text",[r("v-data-table",{attrs:{dense:"","mobile-breakpoint":300,headers:e.r_table_header,search:e.r_search,items:e.r_table,"items-per-page":50,"multi-sort":""}})],1)],1)},O=[],j={components:{},data:function(){return{r_search:""}},computed:Object(s["a"])(Object(s["a"])({},Object(c["d"])({records:function(e){return e.statistics.records}})),{},{r_table_header:function(){return[{text:"Round",value:"round"},{text:"Class",value:"class"},{text:"Score",value:"score"},{text:"Archer",value:"archer"},{text:"Event",value:"event"},{text:"EE/EU/W",value:"scope"},{text:"Date",value:"date",width:"120px"}]},r_table:function(){return this.records.length?this.records.map((function(e){return e.class=e.age_group+e.gender+e.style,e})):[]}}),created:function(){this.$store.dispatch("statistics/getRecords")}},w=j,C=r("2fa4"),V=r("8654"),k=Object(p["a"])(w,g,O,!1,null,null,null),E=k.exports;h()(k,{VCard:m["a"],VCardText:b["c"],VCardTitle:b["d"],VDataTable:x["a"],VSpacer:C["a"],VTextField:V["a"]});var R={name:"Statistics",components:{UserPastEvents:y,Records:E},data:function(){return{}},computed:Object(s["a"])({},Object(c["d"])({user:function(e){return e.user.user}}))},T=R,S=r("a523"),$=r("a722"),D=Object(p["a"])(T,a,n,!1,null,null,null);t["default"]=D.exports;h()(D,{VCard:m["a"],VCardText:b["c"],VContainer:S["a"],VLayout:$["a"]})}}]);
//# sourceMappingURL=chunk-748d125f.53802e33.js.map