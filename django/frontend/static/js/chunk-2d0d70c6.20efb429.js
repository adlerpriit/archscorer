(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d70c6"],{"74c6":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.s?a("v-container",[a("v-layout",{attrs:{"text-center":"",wrap:""}},[a("v-card",[a("v-card-title",{domProps:{textContent:e._s(e.s.name)}}),a("v-card-text",[a("p",{domProps:{textContent:e._s(e.s.description)}}),a("seriesSummary")],1)],1)],1)],1):a("v-overlay",[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)},s=[],n=a("5530"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[a("small",[e._v("Summary Table")]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.s_search,callback:function(t){e.s_search=t},expression:"s_search"}})],1),a("v-data-table",{attrs:{"mobile-breakpoint":300,dense:"",headers:e.s_table_header,items:e.s_table,search:e.s_search,"group-by":"class","multi-sort":"","items-per-page":50}})],1)},u=[],i=(a("4de4"),a("7db0"),a("c740"),a("d81d"),a("13d5"),a("b0c0"),a("4ec9"),a("d3b7"),a("ac1f"),a("25f0"),a("3ca3"),a("841c"),a("ddb0"),a("b85c")),o=a("2909"),l=a("a676"),d=a("2f62"),p={components:{},data:function(){return{s_search:""}},computed:Object(n["a"])(Object(n["a"])({},Object(d["c"])({user:function(e){return e.user.user}})),{},{s:function(){return this.$store.getters["series/seriesById"](parseInt(this.$route.params.id))},s_table_header:function(){if(this.s){var e=[{text:"Class",value:"class"},{text:"Place",value:"place",width:"1%"},{text:"Name",value:"name"},{text:"Club",value:"club"},{text:"Points",value:"points"},{text:"Sum",value:"sum"}];return e.push.apply(e,Object(o["a"])(this.s.stages.map((function(e,t){return{text:(t+1).toString()+". "+e.name,value:"stage"+e.id.toString()}})))),e}return[]},s_table:function(){var e=this;if(this.s){var t,a=[],r=Object(i["a"])(this.s.stages);try{var s=function(){var r=t.value,s=r.participants.map((function(e){var t=r.rounds.find((function(e){return-1!==e.course_name.search("shootoff")}));return t=t?t.id:null,{name:e.archer.full_name,class:e.age_group+e.archer.gender+e.style,id:e.archer.id+e.age_group+e.style,club:e.archer.club,sum:l["a"].sum.apply(l["a"],Object(o["a"])(e.scorecards.filter((function(e){return e.round!==t})).map((function(e){return Object(o["a"])(e.arrows.map((function(e){return e.score})))})))),x:l["a"].sum.apply(l["a"],Object(o["a"])(e.scorecards.filter((function(e){return e.round!==t})).map((function(e){return Object(o["a"])(e.arrows.map((function(e){return e.x})))})))),shootoff:t?l["a"].sum.apply(l["a"],Object(o["a"])(e.scorecards.filter((function(e){return e.round===t})).map((function(e){return Object(o["a"])(e.arrows.map((function(e){return e.score})))})))):null}}));l["a"].participantRank(s);var n,c=s.reduce((function(e,t){return e.set(t.class,(e.get(t.class)||0)+1)}),new Map),u={class:null,points:null},d=Object(i["a"])(s);try{var p=function(){var t=n.value;t.class!==u.class&&(u.class=t.class,u.points=Math.min(e.s.points_max,c.get(t.class))),t.points=u.points-t.place+1;var s=a.findIndex((function(e){return e.id===t.id}));-1===s?(a.push({id:t.id,class:t.class,name:t.name,club:t.club,sum:t.sum,points:t.points}),a[a.length-1]["stage"+r.id.toString()]=[t.sum,t.points]):(a[s].sum+=t.sum,a[s].points+=t.points,a[s]["stage"+r.id.toString()]=[t.sum,t.points])};for(d.s();!(n=d.n()).done;)p()}catch(f){d.e(f)}finally{d.f()}};for(r.s();!(t=r.n()).done;)s()}catch(n){r.e(n)}finally{r.f()}return a}return[]}}),methods:{}},f=p,m=a("2877"),h=a("6544"),b=a.n(h),v=a("b0af"),g=a("99d9"),_=a("8fea"),x=a("2fa4"),y=a("8654"),O=Object(m["a"])(f,c,u,!1,null,null,null),j=O.exports;b()(O,{VCard:v["a"],VCardTitle:g["d"],VDataTable:_["a"],VSpacer:x["a"],VTextField:y["a"]});var w={components:{seriesSummary:j},data:function(){return{}},computed:Object(n["a"])(Object(n["a"])({},Object(d["c"])({user:function(e){return e.user.user}})),{},{s:function(){return this.$store.getters["series/seriesById"](parseInt(this.$route.params.id))}}),created:function(){var e=this;this.$store.dispatch("series/updateSeries",parseInt(this.$route.params.id)).catch((function(){e.$router.push("/series")}))}},V=w,C=a("a523"),S=a("a722"),$=a("a797"),k=a("490a"),I=Object(m["a"])(V,r,s,!1,null,null,null);t["default"]=I.exports;b()(I,{VCard:v["a"],VCardText:g["c"],VCardTitle:g["d"],VContainer:C["a"],VLayout:S["a"],VOverlay:$["a"],VProgressCircular:k["a"]})}}]);
//# sourceMappingURL=chunk-2d0d70c6.20efb429.js.map