{"version":3,"sources":["webpack:///./src/services/rankingService.js","webpack:///./src/views/Statistics.vue?9626","webpack:///./src/components/statistics/UserPastEvents.vue?da1a","webpack:///src/components/statistics/UserPastEvents.vue","webpack:///./src/components/statistics/UserPastEvents.vue?db67","webpack:///./src/components/statistics/UserPastEvents.vue","webpack:///src/views/Statistics.vue","webpack:///./src/views/Statistics.vue?48e9","webpack:///./src/views/Statistics.vue"],"names":["sum","arr","Array","isArray","length","reduce","x","participantOrder","a","b","class","shootoff","participantRank","p_list","place","ord","sort","this","p","render","_vm","_h","$createElement","_c","_self","attrs","_v","user","id","_e","staticRenderFns","staticClass","p_table_header","p_table","scopedSlots","_u","key","fn","props","_s","item","event","name","params","eId","e","component","VCard","VCardText","VDataTable","VContainer","VLayout"],"mappings":"0IAAe,QACbA,IADa,SACTC,GACF,OAAOC,MAAMC,QAAQF,IAAQA,EAAIG,OAASH,EAAII,QAAO,SAACL,EAAKM,GAAN,OAAYN,EAAMM,KAAK,MAE9EC,iBAJa,SAIKC,EAAGC,GACnB,GAAKD,EAAEE,MAAQD,EAAEC,MACf,OAAQ,EAEV,GAAKF,EAAEE,MAAQD,EAAEC,MACf,OAAO,EAET,GAAKF,EAAER,IAAMS,EAAET,IACb,OAAQ,EAEV,GAAKQ,EAAER,IAAMS,EAAET,IACb,OAAO,EAET,GAAIQ,EAAEG,UAAYF,EAAEE,SAAU,CAC5B,GAAIH,EAAEG,SAAWF,EAAEE,SACjB,OAAQ,EAEV,GAAIH,EAAEG,SAAWF,EAAEE,SACjB,OAAO,MAEJ,CACL,GAAIH,EAAEF,EAAIG,EAAEH,EACV,OAAQ,EAEV,GAAIE,EAAEF,EAAIG,EAAEH,EACV,OAAO,EAGX,OAAO,GAETM,gBAlCa,SAkCGC,GACd,IADsB,EAClBC,EAAQ,CAACJ,MAAO,KAAMK,IAAK,EAAGf,IAAK,KAAMM,EAAG,MAD1B,iBAERO,EAAOG,KAAMC,KAAKV,mBAFV,IAEtB,2BAAoD,KAA3CW,EAA2C,QAC9CA,EAAER,QAAUI,EAAMJ,QACpBI,EAAMJ,MAAQQ,EAAER,MAChBI,EAAMC,IAAM,EACZD,EAAMA,MAAQ,EACdA,EAAMd,IAAMkB,EAAElB,IACdc,EAAMR,EAAIY,EAAEZ,IAEVY,EAAElB,IAAMc,EAAMd,KAEPkB,EAAEP,UAEFO,EAAEZ,EAAIQ,EAAMR,GAAKQ,EAAMC,IAAM,KAHtCD,EAAMA,MAAQA,EAAMC,KAMtBG,EAAE,SAAWJ,EAAMA,MACnBA,EAAMR,EAAIY,EAAEZ,EACZQ,EAAMd,IAAMkB,EAAElB,IACdc,EAAMC,KAAO,GApBO,kC,yCClC1B,IAAII,EAAS,WAAa,IAAIC,EAAIH,KAASI,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,cAAc,GAAG,KAAO,KAAK,CAACF,EAAG,SAAS,CAACA,EAAG,cAAc,CAACA,EAAG,IAAI,CAACH,EAAIM,GAAG,4IAA4I,GAAoB,OAAhBN,EAAIO,KAAKC,GAAaL,EAAG,kBAAkBH,EAAIS,MAAM,IAAI,IACzZC,EAAkB,G,wBCDlB,EAAS,WAAa,IAAIV,EAAIH,KAASI,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACQ,YAAY,QAAQ,CAACR,EAAG,cAAc,CAACH,EAAIM,GAAG,2DAA2DH,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,GAAG,oBAAoB,IAAI,QAAUL,EAAIY,eAAe,MAAQZ,EAAIa,QAAQ,iBAAiB,GAAG,aAAa,IAAIC,YAAYd,EAAIe,GAAG,CAAC,CAACC,IAAI,aAAaC,GAAG,SAASC,GAAO,MAAO,CAAClB,EAAIM,GAAG,IAAIN,EAAImB,GAAGD,EAAME,KAAKC,OAAO,MAAMlB,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEiB,KAAM,QAASC,OAAQ,CAAE,GAAML,EAAME,KAAKI,QAAQ,CAACxB,EAAIM,GAAG,UAAUN,EAAIM,GAAG,cAAc,IAAI,IAC7kB,EAAkB,G,4ECwBtB,GAEE,WAAF,GAEE,KAAF,WAAI,MAAJ,IAGE,SAAF,iCACA,gBACI,KAAJ,YAAM,OAAN,aACI,aAAJ,YAAM,OAAN,uBACI,OAAJ,YAAM,OAAN,iBACI,QAAJ,YAAM,OAAN,sBALA,IAOI,eAPJ,WAQM,MAAN,CACA,CAAQ,KAAR,QAAQ,MAAR,SACA,CAAQ,KAAR,OAAQ,MAAR,OAAQ,MAAR,SACA,CAAQ,KAAR,QAAQ,MAAR,SACA,CAAQ,KAAR,SAAQ,MAAR,UACA,CAAQ,KAAR,QAAQ,MAAR,WAGI,QAhBJ,WAgBM,IAAN,OACA,KACM,GAAN,0BAAQ,IAAR,mBACA,mBADQ,IAAR,qBACA,EADA,QAEA,sDACY,GAAImB,EAAG,CACL,IADd,EACA,KADA,iBAEA,cAFA,yBAEA,EAFA,QAGA,sDACA,wDACA,UACA,SACA,0DACA,gBACA,iBAEA,iBACA,qDACA,UAEA,OADA,kCACA,WAEA,qBACA,WACA,eACA,cAGA,QACA,SACA,aACA,kBACA,QACA,SACA,WA3BA,+BAFA,iCAFU,IAAK,EAAf,yBADA,+BAsCM,OAAN,sBACQ,OAAR,eACA,EAEA,cACA,EAEA,QAIE,QA1EF,WA0EI,IAAJ,0BACA,yBADI,IAAJ,qBACA,EADA,QAEa,EAAb,mDACU,EAAV,4CAFM,IAAK,EAAX,yBADA,8BAMI,KAAJ,sCCzGqa,I,qECOjaC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,EAAiB,QAOhC,IAAkBA,EAAW,CAACC,QAAA,KAAMC,UAAA,OAAUC,aAAA,OCF9C,OACE,KAAF,aACE,WAAF,CACI,eAAJ,GAEE,KAAF,WAAI,MAAJ,IAGE,SAAF,kBACA,gBACI,KAAJ,YAAM,OAAN,iBCjC+Y,I,wBCO3Y,EAAY,eACd,EACA9B,EACAW,GACA,EACA,KACA,KACA,MAIa,eAAiB,QAQhC,IAAkB,EAAW,CAACiB,QAAA,KAAMC,UAAA,OAAUE,aAAA,KAAWC,UAAA","file":"static/js/chunk-748d125f.a4bb3da9.js","sourcesContent":["export default {\n  sum(arr) {\n    return Array.isArray(arr) && arr.length ? arr.reduce((sum, x) => sum + x) : null;\n  },\n  participantOrder( a, b ) {\n    if ( a.class < b.class) {\n      return -1;\n    }\n    if ( a.class > b.class) {\n      return 1;\n    }\n    if ( a.sum > b.sum ){\n      return -1;\n    }\n    if ( a.sum < b.sum ){\n      return 1;\n    }\n    if (a.shootoff && b.shootoff) {\n      if (a.shootoff > b.shootoff) {\n        return -1;\n      }\n      if (a.shootoff < b.shootoff) {\n        return 1;\n      }\n    } else {\n      if (a.x > b.x) {\n        return -1;\n      }\n      if (a.x < b.x) {\n        return 1;\n      }\n    }\n    return 0;\n  },\n  participantRank(p_list) {\n    let place = {class: null, ord: 1, sum: null, x: null}\n    for (let p of p_list.sort( this.participantOrder )) {\n      if (p.class !== place.class) {\n        place.class = p.class\n        place.ord = 1\n        place.place = 1\n        place.sum = p.sum\n        place.x = p.x\n      }\n      if (p.sum < place.sum) {\n        place.place = place.ord\n      } else if (p.shootoff) {\n        place.place = place.ord\n      } else if (p.x < place.x && place.ord > 3) {\n        place.place = place.ord\n      }\n      p['place'] = place.place\n      place.x = p.x\n      place.sum = p.sum\n      place.ord += 1\n    }\n\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-layout',{attrs:{\"text-center\":\"\",\"wrap\":\"\"}},[_c('v-card',[_c('v-card-text',[_c('p',[_vm._v(\"This part of the site has not been developed yet. Ideas what kind of statistics or graphs to collect or show would be most wolcome.\")])])],1),(_vm.user.id !== null)?_c('UserPastEvents'):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"mt-5\"},[_c('v-card-text',[_vm._v(\" List of your past events with scores will appear here \"),_c('v-data-table',{attrs:{\"dense\":\"\",\"mobile-breakpoint\":300,\"headers\":_vm.p_table_header,\"items\":_vm.p_table,\"items-per-page\":50,\"multi-sort\":\"\"},scopedSlots:_vm._u([{key:\"item.event\",fn:function(props){return [_vm._v(\" \"+_vm._s(props.item.event)+\" (\"),_c('router-link',{attrs:{\"to\":{ name: 'event', params: { 'id': props.item.eId}}}},[_vm._v(\"link\")]),_vm._v(\") \")]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card class=\"mt-5\">\n    <v-card-text>\n      List of your past events with scores will appear here\n      <v-data-table\n        dense\n        :mobile-breakpoint=\"300\"\n        :headers=\"p_table_header\"\n        :items=\"p_table\"\n        :items-per-page=\"50\"\n        multi-sort\n      >\n      <template v-slot:item.event=\"props\">\n        {{ props.item.event }} (<router-link :to=\"{ name: 'event', params: { 'id': props.item.eId}}\">link</router-link>)\n      </template>\n      </v-data-table>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\n  /*eslint no-console: [\"error\", { allow: [\"warn\", \"error\", \"log\"] }] */\n  import { mapState } from 'vuex'\n  import rankingService from '@/services/rankingService'\n\n  export default {\n    // name: 'Series',\n    components: {\n    },\n    data: () => ({\n      //\n    }),\n    computed: {\n      ...mapState({\n        user: state => state.user.user,\n        participants: state => state.events.participants,\n        events: state => state.events.events,\n        courses: state => state.courses.courses\n      }),\n      p_table_header() {\n        return [\n          { text: 'Event', value: 'event' },\n          { text: 'Date', value: 'date', width: '120px'},\n          { text: 'Round', value: 'round' },\n          { text: 'Course', value: 'course'},\n          { text: 'Score', value: 'score' }\n        ]\n      },\n      p_table() {\n        let p_table = []\n        if (this.participants.length) {\n          for (let p of this.participants) {\n            let e = this.events.find(obj => obj.id === p.event)\n            if (e) {\n              let units = []\n              for (let sc of p.scorecards) {\n                let r = e.rounds.find(obj => obj.id === sc.round)\n                let c = this.courses.find(obj => obj.id === r.course)\n                let r_label = r.label\n                let c_name = c.name\n                let score = rankingService.sum(sc.arrows.map(a => a.score))\n                if (c.type === 's') {\n                  continue\n                }\n                if (c.type === 'u') {\n                  let ui = units.findIndex(obj => obj.id === c.id)\n                  if (ui === -1) {\n                    units.push({id: c.id, score: score, round: r_label})\n                    continue\n                  } else {\n                    r_label = units[ui].round + ' + ' + r_label\n                    c_name = '2 x ' + c_name\n                    score = units[ui].score + score\n                    units.splice(ui, 1)\n                  }\n                }\n                p_table.push({\n                  'eId': e.id,\n                  'event': e.name,\n                  'date': e.date_start,\n                  'round': r_label,\n                  'course': c_name,\n                  'score': score\n                })\n              }\n            }\n          }\n        }\n        return p_table.sort(function (a, b) {\n          if (a.date < b.date) {\n            return -1\n          }\n          if (a.date > b.date) {\n            return 1\n          }\n          return 0\n        })\n      },\n    },\n    created() {\n      for (let pId of this.user.archer.events) {\n        if (!this.participants.find(obj => obj.id === pId)) {\n          this.$store.dispatch('events/getParticipant', pId)\n        }\n      }\n      this.$store.dispatch('events/getEvents')\n    }\n  }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPastEvents.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPastEvents.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserPastEvents.vue?vue&type=template&id=b48971c4&\"\nimport script from \"./UserPastEvents.vue?vue&type=script&lang=js&\"\nexport * from \"./UserPastEvents.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VCard,VCardText,VDataTable})\n","<template>\n  <v-container>\n    <v-layout\n      text-center\n      wrap\n    >\n      <v-card>\n        <v-card-text>\n          <p>This part of the site has not been developed yet. Ideas what kind of\n          statistics or graphs to collect or show would be most wolcome.</p>\n        </v-card-text>\n      </v-card>\n      <UserPastEvents v-if=\"user.id !== null\"/>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\n  import { mapState } from 'vuex'\n\n  // import SeriesAdd from '@/components/SeriesAdd.vue'\n  import UserPastEvents from '@/components/statistics/UserPastEvents.vue'\n\n  export default {\n    name: 'Statistics',\n    components: {\n      UserPastEvents\n    },\n    data: () => ({\n      //\n    }),\n    computed: {\n      ...mapState({\n        user: state => state.user.user,\n      }),\n    },\n  };\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Statistics.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Statistics.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Statistics.vue?vue&type=template&id=2127396c&\"\nimport script from \"./Statistics.vue?vue&type=script&lang=js&\"\nexport * from \"./Statistics.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VCardText,VContainer,VLayout})\n"],"sourceRoot":""}